<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
  <title>KSocketFactory</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</head>
<body>
<span style="font-size : 10pt;">
<table width="100%">
  <tr>
    <td width ="70%">
      <h1>Namespace KSocketFactory</h1><hr>
    </td>
  </tr>
</table>
<table cellpadding="10">
  <tr>
    <td valign="top" width="35%">
      <table bgcolor="#f7f7ff" cellpadding="4">
        <tr>
          <td width="10%" align=left>Module</td>
          <td width="30%" align=left>kdecore</td>
        </tr>
        <tr>
          <td width="10%" align=left>Namespace</td>
          <td width="30%" align=left>KSocketFactory</td>
        </tr>
      </table>
    </td>
    <td width="65%">
      <p>
      KSocketFactory provides functions for opening sockets to remote hosts
</p>
<p>
KSocketFactory is a socket-opener group of functions that must be
used whenever a KDE application wants to communicate with a remote
host. It will determine the necessary proxy and local KDE settings,
then open the connection. The typical use-case is:
</p>
<p>
<code>
d->socket = KSocketFactory.connectToHost("www.kde.org", "http");
d->socket->setParent(this);
QObject.connect(d->socket, SIGNAL(connected()),
this, SLOT(socketConnected()));
</code>
</p>
<p>
Synchronous operation is not recommended, since it may lead to UI
deadlocks. It is preferred to return to the mainloop if the socket
is being created in the main GUI thread.
</p>
<p>
However, if the socket is created in an auxiliary thread, it is
possible to use something equivalent to synchronous mode:
</p>
<p>
<code>
d->socket = KSocketFactory.synchronousConnectToHost("www.kde.org", "http");
d->socket->setParent(this);
</code>
</p>
<p>
All objects returned from these functions belong to the caller and
must be disposed of properly. Calling QObject.setParent() or
passing a parent object is the recommended way.
</p>
<p>
<b>Author</b> Thiago Macieira <thiago@kde.org>
      </p>
    </td>
  </tr>
</table>
<hr>
<hr>
<h3>methods</h3><ul style="list-style-type : none">
<li style="list-style-type : none"><b style="color : #000000;">connectToHost</b> (protocol, host, port, parent)
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table vspace="5">
        <tr>
          <td>
            returns <i>QTcpSocket</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr  bgcolor="#e7e7ff">
                <th>Argument</th><th>Type</th><th>Default</th>
              </tr>
              <tr><td>protocol</td><td>QString</td><td align="right"></td></tr>
              <tr><td>host</td><td>QString</td><td align="right"></td></tr>
              <tr><td>port</td><td>quint16</td><td align="right"></td></tr>
              <tr><td>parent</td><td>QObject</td><td align="right">0</td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">
Initiates a TCP/IP socket connection to remote node (host) @p
host, using the <b>protocol.</b> Returns a QTcpSocket
that is connecting (i.e., in a state before
QAbstractSocket.Connected) in most cases, even if the target
service doesn't exist or if a connection failure happens.
</p>
<p>
This function never returns 0. If the returned socket cannot
connect, it will emit the QAbstractSocket.error()
signal. Otherwise, the QAbstractSocket.connected() signal will
be emitted eventually.
</p>
<p>
The <b>protocol</b> parameter <b>must</b> be a string representation
of the protocol being attempted, like "http", "ftp" or
"xmpp". It might be used to determine the proxy type -- for
instance, the proxy for HTTP connections might be different
from the proxy for other connections. Pass an empty QString if
the connection is of no established protocol.
</p>
<p>
The <b>port</b> parameter can be used to specify the port
number lookup if the service is not a well-known service.
</p>
<p></p>
<p>
<b>protocol</b> - the protocol this socket will use</p>
<p>
<b>host</b> - the remote node (host) to connect to</p>
<p>
<b>port</b> - the port number to connect to</p>
<p>
<b>parent</b> - the parent object to be passed to the
QTcpSocket constructor
@threadsafe
    </td>
  </tr>
</table>

</li><hr>

<li style="list-style-type : none"><b style="color : #000000;">connectToHost</b> (url, parent)
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table vspace="5">
        <tr>
          <td>
            returns <i>QTcpSocket</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr  bgcolor="#e7e7ff">
                <th>Argument</th><th>Type</th><th>Default</th>
              </tr>
              <tr><td>url</td><td>QUrl</td><td align="right"></td></tr>
              <tr><td>parent</td><td>QObject</td><td align="right">0</td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">

    </td>
  </tr>
</table>

</li><hr>

<li style="list-style-type : none"><b style="color : #000000;">connectToHost</b> (socket, protocol, host, port)
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table vspace="5">
        <tr>
          <td>
            returns <i>Nothing</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr  bgcolor="#e7e7ff">
                <th>Argument</th><th>Type</th><th>Default</th>
              </tr>
              <tr><td>socket</td><td>QTcpSocket</td><td align="right"></td></tr>
              <tr><td>protocol</td><td>QString</td><td align="right"></td></tr>
              <tr><td>host</td><td>QString</td><td align="right"></td></tr>
              <tr><td>port</td><td>quint16</td><td align="right"></td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">

    </td>
  </tr>
</table>

</li><hr>

<li style="list-style-type : none"><b style="color : #000000;">connectToHost</b> (socket, url)
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table vspace="5">
        <tr>
          <td>
            returns <i>Nothing</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr  bgcolor="#e7e7ff">
                <th>Argument</th><th>Type</th><th>Default</th>
              </tr>
              <tr><td>socket</td><td>QTcpSocket</td><td align="right"></td></tr>
              <tr><td>url</td><td>QUrl</td><td align="right"></td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">

    </td>
  </tr>
</table>

</li><hr>

<li style="list-style-type : none"><b style="color : #000000;">datagramSocket</b> (protocol, host, parent)
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table vspace="5">
        <tr>
          <td>
            returns <i>QUdpSocket</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr  bgcolor="#e7e7ff">
                <th>Argument</th><th>Type</th><th>Default</th>
              </tr>
              <tr><td>protocol</td><td>QString</td><td align="right"></td></tr>
              <tr><td>host</td><td>QString</td><td align="right"></td></tr>
              <tr><td>parent</td><td>QObject</td><td align="right">0</td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">

    </td>
  </tr>
</table>

</li><hr>

<li style="list-style-type : none"><b style="color : #000000;">listen</b> (protocol, address, port, parent)
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table vspace="5">
        <tr>
          <td>
            returns <i>QTcpServer</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr  bgcolor="#e7e7ff">
                <th>Argument</th><th>Type</th><th>Default</th>
              </tr>
              <tr><td>protocol</td><td>QString</td><td align="right"></td></tr>
              <tr><td>address</td><td>QHostAddress</td><td align="right">QHostAddress.Any</td></tr>
              <tr><td>port</td><td>quint16</td><td align="right">0</td></tr>
              <tr><td>parent</td><td>QObject</td><td align="right">0</td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">
Opens a TCP/IP socket for listening protocol <b>protocol,</b> binding
only at address <b>address.</b> The <b>port</b> parameter indicates the
port to be opened.
</p>
<p>
This function does not return 0. If the opening of the socket
failed for some reason, it will return a QTcpServer object that
is not listening (QTcpServer.isListening() returns false),
with a properly set error string indicating the reason).
</p>
<p>
Note that passing 0 as the default port number will cause the
operating system to automatically allocate a free port for the
socket.
</p>
<p></p>
<p>
<b>protocol</b> - the protocol this socket will accept</p>
<p>
<b>address</b> - the address to listen at</p>
<p>
<b>port</b> - the default port for the service</p>
<p>
<b>parent</b> - the parent object to be passed to the
QTcpServer constructor
    </td>
  </tr>
</table>

</li><hr>

<li style="list-style-type : none"><b style="color : #000000;">proxyForConnection</b> (protocol, host)
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table vspace="5">
        <tr>
          <td>
            returns <i>QNetworkProxy</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr  bgcolor="#e7e7ff">
                <th>Argument</th><th>Type</th><th>Default</th>
              </tr>
              <tr><td>protocol</td><td>QString</td><td align="right"></td></tr>
              <tr><td>host</td><td>QString</td><td align="right"></td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">

    </td>
  </tr>
</table>

</li><hr>

<li style="list-style-type : none"><b style="color : #000000;">proxyForDatagram</b> (protocol, host)
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table vspace="5">
        <tr>
          <td>
            returns <i>QNetworkProxy</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr  bgcolor="#e7e7ff">
                <th>Argument</th><th>Type</th><th>Default</th>
              </tr>
              <tr><td>protocol</td><td>QString</td><td align="right"></td></tr>
              <tr><td>host</td><td>QString</td><td align="right"></td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">

    </td>
  </tr>
</table>

</li><hr>

<li style="list-style-type : none"><b style="color : #000000;">proxyForListening</b> (protocol)
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table vspace="5">
        <tr>
          <td>
            returns <i>QNetworkProxy</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr  bgcolor="#e7e7ff">
                <th>Argument</th><th>Type</th><th>Default</th>
              </tr>
              <tr><td>protocol</td><td>QString</td><td align="right"></td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">

    </td>
  </tr>
</table>

</li><hr>

<li style="list-style-type : none"><b style="color : #000000;">synchronousConnectToHost</b> (protocol, host, port, msecs, parent)
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table vspace="5">
        <tr>
          <td>
            returns <i>QTcpSocket</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr  bgcolor="#e7e7ff">
                <th>Argument</th><th>Type</th><th>Default</th>
              </tr>
              <tr><td>protocol</td><td>QString</td><td align="right"></td></tr>
              <tr><td>host</td><td>QString</td><td align="right"></td></tr>
              <tr><td>port</td><td>quint16</td><td align="right"></td></tr>
              <tr><td>msecs</td><td>int</td><td align="right">30000</td></tr>
              <tr><td>parent</td><td>QObject</td><td align="right">0</td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">
This function behaves exactly like connectToHost() above, except
that the socket it returns is either in
QAbstractSocket.Connected state, or it has failed connecting
altogether.
</p>
<p>
This function should be used if a synchronous connection is
necessary instead of calling
QAbstractSocket.waitForConnected(), since that may not work on
all objects returned from connectToHost().
</p>
<p>
This function does not return 0. If the connection attempt
failed for some reason, the socket state will be
QAbstractSocket.UnconnectedState and QAbstractSocket.isValid
will return false. The socket error state and string will
contain more information.
This function may block.
</p>
<p></p>
<p>
<b>protocol</b> - the protocol this socket will use</p>
<p>
<b>host</b> - the remote node (host) to connect to</p>
<p>
<b>port</b> - the port number to connect to</p>
<p>
<b>msecs</b> - the time (in milliseconds) to wait while
attempting to connect</p>
<p>
<b>parent</b> - the parent object to be passed to the
QTcpSocket constructor
@threadsafe
    </td>
  </tr>
</table>

</li><hr>

<li style="list-style-type : none"><b style="color : #000000;">synchronousConnectToHost</b> (url, msecs, parent)
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table vspace="5">
        <tr>
          <td>
            returns <i>QTcpSocket</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr  bgcolor="#e7e7ff">
                <th>Argument</th><th>Type</th><th>Default</th>
              </tr>
              <tr><td>url</td><td>QUrl</td><td align="right"></td></tr>
              <tr><td>msecs</td><td>int</td><td align="right">30000</td></tr>
              <tr><td>parent</td><td>QObject</td><td align="right">0</td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">

    </td>
  </tr>
</table>

</li><hr>

<li style="list-style-type : none"><b style="color : #000000;">synchronousConnectToHost</b> (socket, protocol, host, port, msecs)
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table vspace="5">
        <tr>
          <td>
            returns <i>Nothing</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr  bgcolor="#e7e7ff">
                <th>Argument</th><th>Type</th><th>Default</th>
              </tr>
              <tr><td>socket</td><td>QTcpSocket</td><td align="right"></td></tr>
              <tr><td>protocol</td><td>QString</td><td align="right"></td></tr>
              <tr><td>host</td><td>QString</td><td align="right"></td></tr>
              <tr><td>port</td><td>quint16</td><td align="right"></td></tr>
              <tr><td>msecs</td><td>int</td><td align="right">30000</td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">

    </td>
  </tr>
</table>

</li><hr>

<li style="list-style-type : none"><b style="color : #000000;">synchronousConnectToHost</b> (socket, url, msecs)
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table vspace="5">
        <tr>
          <td>
            returns <i>Nothing</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr  bgcolor="#e7e7ff">
                <th>Argument</th><th>Type</th><th>Default</th>
              </tr>
              <tr><td>socket</td><td>QTcpSocket</td><td align="right"></td></tr>
              <tr><td>url</td><td>QUrl</td><td align="right"></td></tr>
              <tr><td>msecs</td><td>int</td><td align="right">30000</td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">

    </td>
  </tr>
</table>

</li><hr>

</li><hr>

</span>
</body>
</html>
