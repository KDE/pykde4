<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
  <title>KTextEditor.Plugin</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</head>
<body>
<span style="font-size : 10pt;">

<table width="100%">
  <tr>
    <td width ="70%">
      <h1>class KTextEditor.Plugin</h1><hr>
      <h3><i style="color : #00aa00"></i></h3>
    </td>
    <td  width="30%" valign="top" align="right">
      <table>
        <tr><td align="right"><a href="../index.html">Table of contents</a></td></tr>
        <tr><td align="right"><a href="../modules.html">Modules</a></td></tr>
        <tr><td align="right"><a href="index.html">ktexteditor Classes</a></td></tr>
        <tr><td align="right"><a href="../allclasses.html">All Classes</a></td></tr>
      </table>
    </td>
  </tr>
</table>
<table cellpadding="10">
  <tr>
    <td valign="top" width="35%">
      <table bgcolor="#f7f7ff" cellpadding="4">
        <tr>
          <td width="10%" align=left>Module</td>
          <td width="30%" align=left>ktexteditor</td>
        </tr>
        <tr>
          <td width="10%" align=left>Namespace</td>
          <td width="30%" align=left>ktexteditor</td>
        </tr>
        <tr>
          <td>Class</td>
          <td>KTextEditor.Plugin</td>
        </tr>
        <tr>
          <td>Inherits</td>
          <td>QObject</td>
        </tr>
      </table>
    </td>
    <td width="65%">
      <p>
KTextEditor Plugin interface.
</p>
<p>
Topics:
- plugin_intro
- plugin_config
- plugin_sessions
- plugin_arch
</p>
<p>
<b>Introduction </b>
</p>
<p>
The Plugin class provides methods to create loadable plugins for all
KTextEditor implementations. A plugin can handle several documents and
views. For every document the plugin should handle addDocument() is called
and for every view addView().
</p>
<p>
<b>Configuration Management </b>
</p>
<p>
If your plugin supports a config dialog overwrite configDialogSupported()
and return true (The default implementation returns false and
indicates that the plugin does not support a config dialog). The config
dialog can be shown by calling configDialog(), it can also be called from
a KTextEditor implementation (e.g. the KTextEditor implementation might
have a listview that shows all available plugins along with a
Configure... button). To save or load plugin settings writeConfig() and
readConfig() is called by the Editor part. Usually you do not have to call
readConfig() and writeConfig() yourself.
</p>
<p>
<b>Session Management </b>
</p>
<p>
As an extension a Plugin can implement the SessionConfigInterface. This
interface provides functions to read and write session related settings.
If you have session dependant data additionally derive your Plugin from
this interface and implement the session related functions, for example:
<pre>
class MyPlugin : public KTextEditor.Plugin,
public KTextEditor.SessionConfigInterface
{
Q_OBJECT
Q_INTERFACES(KTextEditor.SessionConfigInterface)
</p>
<p>
// ...
virtual void readSessionConfig (KConfig *config);
virtual void writeSessionConfig (KConfig *config);
};
</pre>
</p>
<p>
<b>Plugin Architecture </b>
</p>
<p>
After the plugin is loaded the editor implementation should first call
readConfig() with a given KConfig object. After this it will call
addDocument() and addView() for all documents and views the plugin should
handle. If your plugin has a GUI it is common to add an extra class, like:
<pre>
class PluginView : public QObject, public KXMLGUIClient
{
Q_OBJECT
public:
// Constructor and other methods
PluginView( KTextEditor.View* view )
: QObject( view ), KXMLGUIClient( view ), m_view( view )
{ ... }
// ...
private:
KTextEditor.View* m_view;
};
</pre>
Your KTextEditor.Plugin derived class then will create a new PluginView
for every View, i.e. for every call of addView().
</p>
<p>
The method removeView() will be called whenever a View is removed/closed.
If you have a PluginView for every view this is the place to remove it.
</p>
<p>
See also  KTextEditor.Editor, KTextEditor.Document, KTextEditor.View,
KTextEditor.SessionConfigInterface
<b>Author</b> Christoph Cullmann \<cullmann@kde.org\>
</p>

    </td>
  </tr>
</table>
<hr>
<hr>

<h3>methods</h3><ul style="list-style-type : none">
<li style="list-style-type : none"><b style="color : #000000;">Plugin</b> (parent)
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table vspace="5">
        <tr>
          <td>
            returns <i>nothing</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr  bgcolor="#e7e7ff">
                <th>Argument</th><th>Type</th><th>Default</th>
              </tr>

              <tr><td>parent</td><td>QObject</td><td align="right"></td></tr>

            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">
<p>
Constructor.
</p>
<p>
Create a new plugin.
</p>
<p>
<b>parent</b> - parent object
</p>

    </td>
  </tr>
</table>


</li><hr>


<li style="list-style-type : none"><b style="color : #000000;">addDocument</b> (document)
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table vspace="5">
        <tr>
          <td>
            returns <i>nothing</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr  bgcolor="#e7e7ff">
                <th>Argument</th><th>Type</th><th>Default</th>
              </tr>

              <tr><td>document</td><td>KTextEditor.Document</td><td align="right"></td></tr>

            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">
<p>
Add a new <b>document</b> to the plugin.
This method is called whenever the plugin should handle another
<b>document.</b>
</p>
<p>
For every call of addDocument() will finally follow a call of
removeDocument(), i.e. the number of calls are identic.
</p>
<p>
</p>
<p>
<b>document</b> - new document to handle
</p>
<p>
See also  removeDocument(), addView()
</p>

    </td>
  </tr>
</table>


</li><hr>


<li style="list-style-type : none"><b style="color : #000000;">addView</b> (view)
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table vspace="5">
        <tr>
          <td>
            returns <i>nothing</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr  bgcolor="#e7e7ff">
                <th>Argument</th><th>Type</th><th>Default</th>
              </tr>

              <tr><td>view</td><td>KTextEditor.View</td><td align="right"></td></tr>

            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">
<p>
This method is called whenever the plugin should add its GUI to
<b>view.</b>
The process for the Editor can be roughly described as follows:
- add documents the plugin should handle via addDocument()
- for every document doc call addView() for every view for
doc.
</p>
<p>
For every call of addView() will finally follow a call of
removeView(), i.e. the number of calls are identic.
</p>
<p>
As addView() is called for every view in which the plugin's
GUI should be visible you must not add the the GUI by
iterating over all Document.views() yourself neither use the
signal Document.viewCreated().
</p>
<p>
</p>
<p>
<b>view</b> - view to hang the gui in
</p>
<p>
See also  removeView(), addDocument()
</p>

    </td>
  </tr>
</table>


</li><hr>


<li style="list-style-type : none"><b style="color : #000000;">configDialog</b> (parent)
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table vspace="5">
        <tr>
          <td>
            returns <i>nothing</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr  bgcolor="#e7e7ff">
                <th>Argument</th><th>Type</th><th>Default</th>
              </tr>

              <tr><td>parent</td><td>QWidget</td><td align="right"></td></tr>

            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">
<p>
Show the config dialog for the plugin.
Changes should be applied to the plugin, but not saved to the disk
immediately. writeConfig() is called by the Editor implementation to
save the plugin's settings, e.g. when a plugin is unloaded.
</p>
<p>
</p>
<p>
<b>parent</b> - parent widget
</p>
<p>
See also  configDialogSupported()
</p>

    </td>
  </tr>
</table>


</li><hr>


<li><b style="color : #000000;">configDialogSupported</b> ()
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table>
        <tr>
          <td>
            returns <i>(bool)</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr><td></td></tr>

            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">
<p>
Check, whether the plugin has support for a config dialog.
Returns true, if the plugin has a config dialog, otherwise false
</p>
<p>
See also  configDialog()
</p>

    </td>
  </tr>
</table>


</li><hr>


<li style="list-style-type : none"><b style="color : #000000;">readConfig</b> (config)
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table vspace="5">
        <tr>
          <td>
            returns <i>nothing</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr  bgcolor="#e7e7ff">
                <th>Argument</th><th>Type</th><th>Default</th>
              </tr>

              <tr><td>config</td><td>KConfig</td><td align="right">None</td></tr>

            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">
<p>
Read the editor configuration from the KConfig <b>config.</b>
If <b>config</b> is 0 you can KApplication.kApplication ()->config() as fallback solution.
readConfig() is called from the Editor implementation, so you
never have to call it yourself.
</p>
<p>
</p>
<p>
<b>config</b> - config object
</p>
<p>
See also  writeConfig()
</p>

    </td>
  </tr>
</table>


</li><hr>


<li style="list-style-type : none"><b style="color : #000000;">removeDocument</b> (document)
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table vspace="5">
        <tr>
          <td>
            returns <i>nothing</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr  bgcolor="#e7e7ff">
                <th>Argument</th><th>Type</th><th>Default</th>
              </tr>

              <tr><td>document</td><td>KTextEditor.Document</td><td align="right"></td></tr>

            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">
<p>
Remove the <b>document</b> from the plugin.
This method is called whenever the plugin should stop handling
the <b>document.</b>
</p>
<p>
For every call of addDocument() will finally follow a call of
removeDocument(), i.e. the number of calls are identic.
</p>
<p>
</p>
<p>
<b>document</b> - document to hang the gui out from
</p>
<p>
See also  addDocument(), removeView()
</p>

    </td>
  </tr>
</table>


</li><hr>


<li style="list-style-type : none"><b style="color : #000000;">removeView</b> (view)
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table vspace="5">
        <tr>
          <td>
            returns <i>nothing</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr  bgcolor="#e7e7ff">
                <th>Argument</th><th>Type</th><th>Default</th>
              </tr>

              <tr><td>view</td><td>KTextEditor.View</td><td align="right"></td></tr>

            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">
<p>
This method is called whenever the plugin should remove its GUI from
<b>view.</b>
</p>
<p>
For every call of addView() will finally follow a call of
removeView(), i.e. the number of calls are identic.
</p>
<p>
</p>
<p>
<b>view</b> - view to hang the gui out from
</p>
<p>
See also  addView(), removeDocument()
</p>

    </td>
  </tr>
</table>


</li><hr>


<li style="list-style-type : none"><b style="color : #000000;">writeConfig</b> (config)
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table vspace="5">
        <tr>
          <td>
            returns <i>nothing</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr  bgcolor="#e7e7ff">
                <th>Argument</th><th>Type</th><th>Default</th>
              </tr>

              <tr><td>config</td><td>KConfig</td><td align="right">None</td></tr>

            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">
<p>
Write the editor configuration to the KConfig <b>config.</b>
If <b>config</b> is 0 you can KApplication.kApplication ()->config() as fallback solution.
writeConfig() is called from the Editor implementation, so you
never have to call it yourself.
</p>
<p>
</p>
<p>
<b>config</b> - config object
</p>
<p>
See also  readConfig()
</p>

    </td>
  </tr>
</table>


</li><hr>


</li><hr>


</span>
</body>
</html>
