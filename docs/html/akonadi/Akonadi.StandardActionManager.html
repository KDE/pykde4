<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
  <title>Akonadi.StandardActionManager</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</head>
<body>
<span style="font-size : 10pt;">
<table width="100%">
  <tr>
    <td width ="70%">
      <h1>class StandardActionManager</h1><hr>
      <h3><i style="color : #00aa00"></i></h3>
    </td>
  </tr>
</table>
<table cellpadding="10">
  <tr>
    <td valign="top" width="35%">
      <table bgcolor="#f7f7ff" cellpadding="4">
        <tr>
          <td width="10%" align=left>Module</td>
          <td width="30%" align=left>akonadi</td>
        </tr>
        <tr>
          <td width="10%" align=left>Namespace</td>
          <td width="30%" align=left>Akonadi</td>
        </tr>
        <tr>
          <td>Class</td>
          <td>StandardActionManager</td>
        </tr>
        <tr>
          <td>Inherits</td>
          <td>QObject</td>
        </tr>
      </table>
    </td>
    <td width="65%">
      Manages generic Akonadi actions common for all types. This covers
creating of the actions with appropriate labels, icons, shortcuts
etc., updating the action state depending on the current selection
as well as default implementations for the actual operations.
</p>
<p>
If the default implementation is not appropriate for your application
you can still use the state tracking by disconnecting the triggered()
signal and re-connecting it to your implementation. The actual KAction
objects can be retrieved by calling createAction() or action() for that.
</p>
<p>
If the default look and feel (labels, icons, shortcuts) of the actions
is not appropriate for your application, you can access them as noted
above and customize them to your needs. Additionally, you can set a
KLocalizedString which should be used as a action label with correct
plural handling for actions operating on multiple objects with
setActionText().
</p>
<p>
Finally, if you have special needs for the action states, connect to
the actionStateUpdated() signal and adjust the state accordingly.
</p>
<p>
The following actions are provided (KAction name in parenthesis):
- Creation of a new collection (@c akonadi_collection_create)
- Copying of selected collections (@c akonadi_collection_copy)
- Deletion of selected collections (@c akonadi_collection_delete)
- Synchronization of selected collections (@c akonadi_collection_sync)
- Showing the collection properties dialog for the current collection (@c akonadi_collection_properties)
- Copying of selected items (@c akonadi_itemcopy)
- Pasting collections, items or raw data (@c akonadi_paste)
- Deleting of selected items (@c akonadi_item_delete)
- Managing local subscriptions (@c akonadi_manage_local_subscriptions)
</p>
<p>
The following example shows how to use standard actions in your application:
@verbatim
Akonadi.StandardActionManager *actMgr = new Akonadi.StandardActionManager( actionCollection(), this );
actMgr->setCollectionSelectionModel( collectionView->collectionSelectionModel() );
actMgr->createAllActions();
@endverbatim
Additionally you have to add the actions to the KXMLGUI file of your application,
using the names listed above.
</p>
<p>
If you only need a subset of the actions provided, you can call createAction()
instead of createAllActions() for the action types you want.
</p>
<p>
To do: collection deleting and sync do not support multi-selection yet
    </td>
  </tr>
</table>
<hr>
<hr>
<h3>enums</h3><ul>
<li style="padding-bottom : 8px;"><b>Type</b> { CreateCollection, CopyCollections, DeleteCollections, SynchronizeCollections, CollectionProperties, CopyItems, Paste, DeleteItems, ManageLocalSubscriptions, LastType }</li>

</ul><a href="#extended"><i>enum details</i></a><hr>

<h3>methods</h3><ul style="list-style-type : none">
<li style="list-style-type : none"><b style="color : #000000;">StandardActionManager</b> (actionCollection, parent)
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table vspace="5">
        <tr>
          <td>
            returns <i>ctor</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr  bgcolor="#e7e7ff">
                <th>Argument</th><th>Type</th><th>Default</th>
              </tr>
              <tr><td>actionCollection</td><td>KActionCollection</td><td align="right"></td></tr>
              <tr><td>parent</td><td>QWidget</td><td align="right">0</td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">
Create a new standard action manager.</p>
<p>
<b>actionCollection</b> - The action collection to operate on.</p>
<p>
<b>parent</b> - The parent widget.
    </td>
  </tr>
</table>

</li><hr>

<li style="list-style-type : none"><b style="color : #000000;">action</b> (type)
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table vspace="5">
        <tr>
          <td>
            returns <i>KAction</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr  bgcolor="#e7e7ff">
                <th>Argument</th><th>Type</th><th>Default</th>
              </tr>
              <tr><td>type</td><td>Akonadi.StandardActionManager.Type</td><td align="right"></td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">
Returns the action of the given type, 0 if it has not been created (yet).
    </td>
  </tr>
</table>

</li><hr>

<li><b style="color : #000000;">actionStateUpdated</b> ( )
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table>
        <tr>
          <td>
            returns <i>Nothing</i>
          </td>
        </tr>
        <tr>
          <td>
          <p style="color : #ee360a">SIGNAL ("actionStateUpdated ()")</p>

          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr><td></td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">
Emitted when the action state has been updated.
In case you have special needs for changing the state of some actions,
connect to this signal and adjust the action state.
    </td>
  </tr>
</table>

</li><hr>

<li style="list-style-type : none"><b style="color : #000000;">createAction</b> (type)
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table vspace="5">
        <tr>
          <td>
            returns <i>KAction</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr  bgcolor="#e7e7ff">
                <th>Argument</th><th>Type</th><th>Default</th>
              </tr>
              <tr><td>type</td><td>Akonadi.StandardActionManager.Type</td><td align="right"></td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">
Creates the action of the given type and adds it to the action collection
specified in the constructor if it does not exist yet. The action is
connected to its default implementation provided by this class.
    </td>
  </tr>
</table>

</li><hr>

<li><b style="color : #000000;">createAllActions</b> ( )
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table>
        <tr>
          <td>
            returns <i>Nothing</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr><td></td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">
Convenience method to create all standard actions.
</p>
<p>
See also  createAction()
    </td>
  </tr>
</table>

</li><hr>

<li style="list-style-type : none"><b style="color : #000000;">setActionText</b> (type, text)
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table vspace="5">
        <tr>
          <td>
            returns <i>Nothing</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr  bgcolor="#e7e7ff">
                <th>Argument</th><th>Type</th><th>Default</th>
              </tr>
              <tr><td>type</td><td>Akonadi.StandardActionManager.Type</td><td align="right"></td></tr>
              <tr><td>text</td><td>KLocalizedString</td><td align="right"></td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">
Sets the label of the action <b>type</b> to <b>text,</b> which is used during
updating the action state and substituted according to the number of
selected objects. This is mainly useful to customize the label of actions
that can operate on multiple objects.
</p>
<p>
Example:
@verbatim
acctMgr->setActionText( Akonadi.StandardActionManager.CopyItems,
ki18np( "Copy Mail", "Copy %1 Mails" ) );
@endverbatim
    </td>
  </tr>
</table>

</li><hr>

<li style="list-style-type : none"><b style="color : #000000;">setCollectionSelectionModel</b> (selectionModel)
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table vspace="5">
        <tr>
          <td>
            returns <i>Nothing</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr  bgcolor="#e7e7ff">
                <th>Argument</th><th>Type</th><th>Default</th>
              </tr>
              <tr><td>selectionModel</td><td>QItemSelectionModel</td><td align="right"></td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">
Sets the collection selection model based on which the collection
related actions should operate. If none is set, all collection actions
will be disabled.
    </td>
  </tr>
</table>

</li><hr>

<li style="list-style-type : none"><b style="color : #000000;">setItemSelectionModel</b> (selectionModel)
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table vspace="5">
        <tr>
          <td>
            returns <i>Nothing</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr  bgcolor="#e7e7ff">
                <th>Argument</th><th>Type</th><th>Default</th>
              </tr>
              <tr><td>selectionModel</td><td>QItemSelectionModel</td><td align="right"></td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">
Sets the item selection model based on which the item related actions
should operate. If none is set, all item actions will be disabled.
    </td>
  </tr>
</table>

</li><hr>

</li><hr>

<a name="extended">
<h3>enums - detail</h3>
<ul style="list-style-type : none">
<li><b>Type</b>  { CreateCollection, CopyCollections, DeleteCollections, SynchronizeCollections, CollectionProperties, CopyItems, Paste, DeleteItems, ManageLocalSubscriptions, LastType }
  <p style="padding-top : 9px;">List of supported actions.</p>
  <table cellspacing="5">
    <tr>
      <td></td>
      <td valign="top"><i>CreateCollection</i></td>
      <td valign="top">-  </td>
      <td valign="top">-</td>
      <td></td>
    </tr>
    <tr>
      <td></td>
      <td valign="top"><i>CopyCollections</i></td>
      <td valign="top">-  </td>
      <td valign="top">-</td>
      <td></td>
    </tr>
    <tr>
      <td></td>
      <td valign="top"><i>DeleteCollections</i></td>
      <td valign="top">-  </td>
      <td valign="top">-</td>
      <td></td>
    </tr>
    <tr>
      <td></td>
      <td valign="top"><i>SynchronizeCollections</i></td>
      <td valign="top">-  </td>
      <td valign="top">-</td>
      <td></td>
    </tr>
    <tr>
      <td></td>
      <td valign="top"><i>CollectionProperties</i></td>
      <td valign="top">-  </td>
      <td valign="top">-</td>
      <td></td>
    </tr>
    <tr>
      <td></td>
      <td valign="top"><i>CopyItems</i></td>
      <td valign="top">-  </td>
      <td valign="top">-</td>
      <td></td>
    </tr>
    <tr>
      <td></td>
      <td valign="top"><i>Paste</i></td>
      <td valign="top">-  </td>
      <td valign="top">-</td>
      <td></td>
    </tr>
    <tr>
      <td></td>
      <td valign="top"><i>DeleteItems</i></td>
      <td valign="top">-  </td>
      <td valign="top">-</td>
      <td></td>
    </tr>
    <tr>
      <td></td>
      <td valign="top"><i>ManageLocalSubscriptions</i></td>
      <td valign="top">-  </td>
      <td valign="top">-</td>
      <td></td>
    </tr>
    <tr>
      <td></td>
      <td valign="top"><i>LastType</i></td>
      <td valign="top">-  </td>
      <td valign="top">-</td>
      <td></td>
    </tr>
  </table>
</li>
<hr>
</ul>
</span>
</body>
</html>
