<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
  <title>KPluginLoader</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</head>
<body>
<span style="font-size : 10pt;">
<table width="100%">
  <tr>
    <td width ="70%">
      <h1>class KPluginLoader</h1><hr>
      <h3><i style="color : #00aa00"></i></h3>
    </td>
  </tr>
</table>
<table cellpadding="10">
  <tr>
    <td valign="top" width="35%">
      <table bgcolor="#f7f7ff" cellpadding="4">
        <tr>
          <td width="10%" align=left>Module</td>
          <td width="30%" align=left>kdecore</td>
        </tr>
        <tr>
          <td width="10%" align=left>Namespace</td>
          <td width="30%" align=left></td>
        </tr>
        <tr>
          <td>Class</td>
          <td>KPluginLoader</td>
        </tr>
        <tr>
          <td>Inherits</td>
          <td>QPluginLoader</td>
        </tr>
      </table>
    </td>
    <td width="65%">
      \class KPluginLoader kpluginloader.h <KPluginLoader>
</p>
<p>
This class can be used to dynamically load a plugin library at runtime.
</p>
<p>
This class makes sure that the Qt and KDE versions used to compile this library aren't newer then
the ones currently used.
</p>
<p>
This class is reentrant, you can load plugins from different threads. You can also have multiple
PluginLoaders for one library without negative effects.
The object obtained with factory() or the inherited method QPluginLoader.instance() is
cached inside the library. If you call factory() or instance() multiple times, you will always get
the same object, even from different threads and different KPluginLoader instances.
You can delete this object easily, a new one will be created if factory() or instance() is called
afterwards. factory() uses instance() internally.
</p>
<p>
KPluginLoader inherits QPluginLoader.unload(). It safe to call this method if you loaded a plugin
and decide not to use it for some reason. But as soon as you start to use the factory from the plugin,
you should stay away from it. It's nearly impossible to keep track of all objects created directly or
indirectly from the plugin and all other pointers into plugin code. Using unload() in this case is asking
for trouble. If you really need to unload your plugins, you have to take care to convert the clipboard
content to text, because the plugin could have registered a custom mime source. You also have to delete
the factory of the plugin, otherwise you will create a leak.
The destructor of KPluginLoader doesn't call unload.
</p>
<p>
Sample code:
<pre>
KPluginLoader loader( ...library or kservice... );
KPluginFactory* factory = loader.factory();
if (!factory) {
kWarning() << "Error loading plugin:" << loader.errorString();
} else {
MyInterface* obj = factory->create<MyInterface>();
if (!obj) {
kWarning() << "Error creating object";
}
}
</pre>
</p>
<p>
See also  KPluginFactory
</p>
<p>
<b>Author</b> Bernhard Loos <nhuh.put@web.de>
    </td>
  </tr>
</table>
<hr>
<hr>
<h3>methods</h3><ul style="list-style-type : none">
<li style="list-style-type : none"><b style="color : #000000;">KPluginLoader</b> (plugin, componentdata, parent)
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table vspace="5">
        <tr>
          <td>
            returns <i>ctor</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr>
          <td>
          KDE 4.1.0 and later only
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr  bgcolor="#e7e7ff">
                <th>Argument</th><th>Type</th><th>Default</th>
              </tr>
              <tr><td>plugin</td><td>QString</td><td align="right"></td></tr>
              <tr><td>componentdata</td><td>KComponentData</td><td align="right">KGlobal.mainComponent()</td></tr>
              <tr><td>parent</td><td>QObject</td><td align="right">0</td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">
Used this constructor to load a plugin with a given library name. Plugin libraries shouldn't have a 'lib' prefix.
</p>
<p></p>
<p>
<b>plugin</b> - The name of the plugin library.</p>
<p>
<b>componentdata</b> - The KStandardDirs object from componentdata is used to search the library.</p>
<p>
<b>parent</b> - A parent object.
    </td>
  </tr>
</table>

</li><hr>

<li style="list-style-type : none"><b style="color : #000000;">KPluginLoader</b> (service, componentdata, parent)
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table vspace="5">
        <tr>
          <td>
            returns <i>ctor</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr>
          <td>
          KDE 4.1.0 and later only
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr  bgcolor="#e7e7ff">
                <th>Argument</th><th>Type</th><th>Default</th>
              </tr>
              <tr><td>service</td><td>KService</td><td align="right"></td></tr>
              <tr><td>componentdata</td><td>KComponentData</td><td align="right">KGlobal.mainComponent()</td></tr>
              <tr><td>parent</td><td>QObject</td><td align="right">0</td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">
Used this constructor to load a plugin from a service. The service must contain a library.
</p>
<p></p>
<p>
<b>service</b> - The service for which the library should be loaded.</p>
<p>
<b>componentdata</b> - The KStandardDirs object from componentdata is used to search the library.</p>
<p>
<b>parent</b> - A parent object.
    </td>
  </tr>
</table>

</li><hr>

<li style="list-style-type : none"><b style="color : #999999;">KPluginLoader</b> (a0)
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table vspace="5">
        <tr>
          <td>
            returns <i>ctor</i>
          </td>
        </tr>
        <tr>
          <td>
          <i style="color : #aa0000">Not implemented</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr  bgcolor="#e7e7ff">
                <th>Argument</th><th>Type</th><th>Default</th>
              </tr>
              <tr><td>a0</td><td>KPluginLoader</td><td align="right"></td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">

    </td>
  </tr>
</table>

</li><hr>

<li style="list-style-type : none"><b style="color : #000000;">KPluginLoader</b> (a0, a1, a2)
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table vspace="5">
        <tr>
          <td>
            returns <i>ctor</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr>
          <td>
          before KDE 4.1.0 only
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr  bgcolor="#e7e7ff">
                <th>Argument</th><th>Type</th><th>Default</th>
              </tr>
              <tr><td>a0</td><td>QString</td><td align="right"></td></tr>
              <tr><td>a1</td><td>KComponentData</td><td align="right">KGlobal.mainComponent()</td></tr>
              <tr><td>a2</td><td>QObject</td><td align="right">0</td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">

    </td>
  </tr>
</table>

</li><hr>

<li style="list-style-type : none"><b style="color : #000000;">KPluginLoader</b> (a0, a1, a2)
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table vspace="5">
        <tr>
          <td>
            returns <i>ctor</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr>
          <td>
          before KDE 4.1.0 only
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr  bgcolor="#e7e7ff">
                <th>Argument</th><th>Type</th><th>Default</th>
              </tr>
              <tr><td>a0</td><td>KService</td><td align="right"></td></tr>
              <tr><td>a1</td><td>KComponentData</td><td align="right">KGlobal.mainComponent()</td></tr>
              <tr><td>a2</td><td>QObject</td><td align="right">0</td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">

    </td>
  </tr>
</table>

</li><hr>

<li><b style="color : #000000;">errorString</b> ( )
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table>
        <tr>
          <td>
            returns <i>QString</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr><td></td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">
Queries the last error.
\returns The description of the last error.
    </td>
  </tr>
</table>

</li><hr>

<li><b style="color : #000000;">factory</b> ( )
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table>
        <tr>
          <td>
            returns <i>KPluginFactory</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr><td></td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">
Used to obtain the factory object of the plugin. You have to give a class which inherits KPluginFactory
to K_EXPORT_PLUGIN to use this method.
</p>
<p>
\returns The factory of the plugin or 0 on error.
    </td>
  </tr>
</table>

</li><hr>

<li><b style="color : #000000;">isLoaded</b> ( )
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table>
        <tr>
          <td>
            returns <i>bool</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr><td></td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">

    </td>
  </tr>
</table>

</li><hr>

<li><b style="color : #000000;">load</b> ( )
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table>
        <tr>
          <td>
            returns <i>bool</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr><td></td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">
Performs the loading of the plugin.
    </td>
  </tr>
</table>

</li><hr>

<li><b style="color : #000000;">pluginName</b> ( )
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table>
        <tr>
          <td>
            returns <i>QString</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr><td></td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">
The name of this plugin as given to the constructor.
\returns the plugin name
    </td>
  </tr>
</table>

</li><hr>

<li><b style="color : #000000;">pluginVersion</b> ( )
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table>
        <tr>
          <td>
            returns <i>quint32</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr><td></td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">
Queries the plugin version.
\returns The version given to K_EXPORT_PLUGIN_VERSION or (quint32) -1 if not set.
    </td>
  </tr>
</table>

</li><hr>

</li><hr>

</span>
</body>
</html>
