<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<head>
  <title>PolkitQt.Auth</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <link rel="stylesheet" type="text/css" href="../common/doxygen.css" />
  <link rel="stylesheet" media="screen" type="text/css" title="KDE Colors" href="../common/kde.css" />
</head>
<body>
<div id="container">
<div id="header">
  <div id="header_top">
    <div>
      <div>
        <img alt ="" src="../common/top-kde.jpg"/>
        KDE 4.3 PyKDE API Reference
      </div>
    </div>
  </div>
  <div id="header_bottom">
    <div id="location">
      <ul>
        <li>KDE's Python API</li>
      </ul>
    </div>

    <div id="menu">
      <ul>
        <li><a href="../modules.html">Overview</a></li>
<li><a href="http://techbase.kde.org/Development/Languages/Python">PyKDE Home</a></li>
<li><a href="http://kde.org/family/">Sitemap</a></li>
<li><a href="http://kde.org/contact/">Contact Us</a></li>
</ul>
    </div>
  </div>
</div>

<div id="body_wrapper">
<div id="body">
<div id="right">
<div class="content">
<div id="main">
<div class="clearer">&nbsp;</div>

<h1>PolkitQt.Auth Namespace Reference</h1>
<code>from PyKDE4.polkitqt.PolkitQt.Auth import *</code>
<p>
<h2>Detailed Description</h2>
<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd> Daniel Nicoletti &lt;dantti85-pk@yahoo.com.br&gt; </dd></dl>
</p>
<p>
Functions used to obtain authorizations
</p>
<p>
This namespace contains class is a simple wrapper around the DBus interface
org.freedesktop.PolicyKit.AuthenticationAgent to make usage of
policykit easier in Qt/KDE worlds
</p>
<table border="0" cellpadding="0" cellspacing="0"><tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="#obj168698188">Result</a>&nbsp;</td><td class="memItemRight" valign="bottom">{&nbsp;Unknown, Yes, AdminAuthOneShot, AdminAuth, AdminAuthKeepSession, AdminAuthKeepAlways, SelfAuthOneShot, SelfAuth, SelfAuthKeepSession, SelfAuthKeepAlways, No&nbsp;}</td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="#obj194367948">computeAndObtainAuth</a> (<a href="http://www.riverbankcomputing.co.uk/static/Docs/PyQt4/html/qstring.html">QString</a> actionId, WId winId=0, long pid=QCoreApplication.applicationPid())</td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">PolkitQt.Auth.Result&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="#obj194368556">isCallerAuthorized</a> (PolKitAction action, long pid, bool revokeIfOneShot)</td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">PolkitQt.Auth.Result&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="#obj160277964">isCallerAuthorized</a> (<a href="http://www.riverbankcomputing.co.uk/static/Docs/PyQt4/html/qstring.html">QString</a> actionId, long pid, bool revokeIfOneShot)</td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">PolkitQt.Auth.Result&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="#obj192492364">isCallerAuthorized</a> (<a href="http://www.riverbankcomputing.co.uk/static/Docs/PyQt4/html/qstring.html">QString</a> actionId, <a href="http://www.riverbankcomputing.co.uk/static/Docs/PyQt4/html/qstring.html">QString</a> dbusName, bool revokeIfOneShot)</td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">PolkitQt.Auth.Result&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="#obj175840204">isCallerAuthorized</a> (PolKitAction action, <a href="http://www.riverbankcomputing.co.uk/static/Docs/PyQt4/html/qstring.html">QString</a> dbusName, bool revokeIfOneShot)</td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="#obj194371020">obtainAuth</a> (<a href="http://www.riverbankcomputing.co.uk/static/Docs/PyQt4/html/qstring.html">QString</a> actionId, WId winId=0, long pid=QCoreApplication.applicationPid())</td></tr>
</table>
<hr><h2>Enumeration Documentation</h2><a class="anchor" name="obj168698188"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr><td class="memname">Result</td>
</tr>
</table>
</div>
<div class="memdoc"><p>Result unknown
</p><dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0"><tr><td valign="top"><em>Unknown</em>&nbsp;=&nbsp;0x00<p>Result unknown
< p></td><td><tr><td valign="top"><em>Yes</em>&nbsp;=&nbsp;0x01</td><td><tr><td valign="top"><em>AdminAuthOneShot</em>&nbsp;=&nbsp;0x02</td><td><tr><td valign="top"><em>AdminAuth</em>&nbsp;=&nbsp;0x03</td><td><tr><td valign="top"><em>AdminAuthKeepSession</em>&nbsp;=&nbsp;0x04</td><td><tr><td valign="top"><em>AdminAuthKeepAlways</em>&nbsp;=&nbsp;0x5</td><td><tr><td valign="top"><em>SelfAuthOneShot</em>&nbsp;=&nbsp;0x6</td><td><tr><td valign="top"><em>SelfAuth</em>&nbsp;=&nbsp;0x7</td><td><tr><td valign="top"><em>SelfAuthKeepSession</em>&nbsp;=&nbsp;0x8</td><td><tr><td valign="top"><em>SelfAuthKeepAlways</em>&nbsp;=&nbsp;0x9</td><td><tr><td valign="top"><em>No</em>&nbsp;=&nbsp;0x10</td><td></table>
</dl>
</div></div><p><hr><h2>Function Documentation</h2><a class="anchor" name="obj194367948"></a>
<div class="memitem">
<div class="memproto">
<table class="memname"><tr>
<td class="memname">bool computeAndObtainAuth</td>
<td>(</td>
<td class="paramtype"><a href="http://www.riverbankcomputing.co.uk/static/Docs/PyQt4/html/qstring.html">QString</a>&nbsp;</td>
<td class="paramname"><em>actionId</em>, </td>
</tr>
<tr>
<td class="memname"></td>
<td></td>
<td class="paramtype">WId&nbsp;</td>
<td class="paramname"><em>winId=0</em>, </td>
</tr>
<tr>
<td class="memname"></td>
<td></td>
<td class="paramtype">long&nbsp;</td>
<td class="paramname"><em>pid=QCoreApplication.applicationPid()</em></td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td>
<td></td>
<td width="100%"> </td>
</tr></table>
</div>
<div class="memdoc"><p>Obtains authorization for the given action regardless of
the Action Result.
This method is meant to be used if you don't want to have
an Action class that can handle all states. It will simply
compute the Polkit Result and prompt for password if needed.
</p>
<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd> Action
</dd></dl> </p>
<p>
</p><dl compact><dt><b>Parameters:</b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td></td><td valign="top"><em>actionId</em>&nbsp;</td><td> id of the action in question (i.e. org.freedesktop.policykit.read)
</td></tr> </table></dl>
<p> </p><dl compact><dt><b>Parameters:</b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td></td><td valign="top"><em>winId</em>&nbsp;</td><td> the X window id for the request (use 0 if there's no window)
</td></tr> </table></dl>
<p> </p><dl compact><dt><b>Parameters:</b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td></td><td valign="top"><em>pid</em>&nbsp;</td><td> Process id of the application in question
</td></tr> </table></dl>
<p> <dl class="return" compact><dt><b>Returns:</b></dt><dd> true if the user is authorized
</dd></dl> false if the user is not authorized
</p></div></div><a class="anchor" name="obj194368556"></a>
<div class="memitem">
<div class="memproto">
<table class="memname"><tr>
<td class="memname">PolkitQt.Auth.Result isCallerAuthorized</td>
<td>(</td>
<td class="paramtype">PolKitAction&nbsp;</td>
<td class="paramname"><em>action</em>, </td>
</tr>
<tr>
<td class="memname"></td>
<td></td>
<td class="paramtype">long&nbsp;</td>
<td class="paramname"><em>pid</em>, </td>
</tr>
<tr>
<td class="memname"></td>
<td></td>
<td class="paramtype">bool&nbsp;</td>
<td class="paramname"><em>revokeIfOneShot</em></td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td>
<td></td>
<td width="100%"> </td>
</tr></table>
</div>
<div class="memdoc"><p>This function should be used by mechanisms (e.g.: helper applications).
It returns the action should be carried out, so if the caller was
actually authorized to perform it. The result is in form of a PolKitResult, so that
you can have more control over the whole process, and detect an eventual error.
Most of the times you simply want to check if the result is == to Result.Yes,
if you don't have specific needs.
</p>
<p>
It is CRITICAL that you call this function
and check what it returns before doing anything in your helper, since otherwise
you could be actually performing an action from an unknown or unauthorized caller.
</p>
<p>
The revokeIfOneShot parameter is very important: if it is set to true, if the authorization
was a OneShot authorization, it will be revoked right after calling this function.
To the bottom line, you should set this parameter to true if you're the mechanism
(so you're actually carrying out the action), to false if you're not (for example,
if you only want to check if the caller is authorized but not perform the action).
</p>
<p>
DEPRECATION WARNING: This function uses a type that will be removed in
PolicyKit 1.0. Please don't use this function in your application unless strictly
needed, or you will have to update it when polkit-qt 1.0 will come out. Please use
the equivalent without PolKit* types.
</p>
<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd> The pid parameter refers to the caller. You can retrieve this through
DBus.
</dd></dl> </p>
<p>
</p><dl compact><dt><b>Parameters:</b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td></td><td valign="top"><em>action</em>&nbsp;</td><td> the PolKitAction in question
</td></tr> </table></dl>
<p> </p><dl compact><dt><b>Parameters:</b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td></td><td valign="top"><em>pid</em>&nbsp;</td><td> the pid of the caller we want to check authorization for
</td></tr> </table></dl>
<p> </p><dl compact><dt><b>Parameters:</b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td></td><td valign="top"><em>revokeIfOneShot</em>&nbsp;</td><td> true if we're carrying out the action, so we want the auth
to be revoked right after
</td></tr> </table></dl>
<p> false if we're not carrying out the action, so we don't want
the auth to be revoked right after
</p>
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd> Result.Yes if the caller is authorized and the action should be performed
</dd></dl> otherwise if the caller was not authorized and the action should not be performed,
or an error has occurred
</p></div></div><a class="anchor" name="obj160277964"></a>
<div class="memitem">
<div class="memproto">
<table class="memname"><tr>
<td class="memname">PolkitQt.Auth.Result isCallerAuthorized</td>
<td>(</td>
<td class="paramtype"><a href="http://www.riverbankcomputing.co.uk/static/Docs/PyQt4/html/qstring.html">QString</a>&nbsp;</td>
<td class="paramname"><em>actionId</em>, </td>
</tr>
<tr>
<td class="memname"></td>
<td></td>
<td class="paramtype">long&nbsp;</td>
<td class="paramname"><em>pid</em>, </td>
</tr>
<tr>
<td class="memname"></td>
<td></td>
<td class="paramtype">bool&nbsp;</td>
<td class="paramname"><em>revokeIfOneShot</em></td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td>
<td></td>
<td width="100%"> </td>
</tr></table>
</div>
<div class="memdoc"><p>Convenience overload. Lets you use isCallerAuthorized with a QString instead of a PolKitAction.
</p>
<p>
</p><dl compact><dt><b>Parameters:</b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td></td><td valign="top"><em>actionId</em>&nbsp;</td><td> the Id of the action in question
</td></tr> </table></dl>
<p> </p><dl compact><dt><b>Parameters:</b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td></td><td valign="top"><em>pid</em>&nbsp;</td><td> the pid of the caller we want to check authorization for
</td></tr> </table></dl>
<p> </p><dl compact><dt><b>Parameters:</b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td></td><td valign="top"><em>revokeIfOneShot</em>&nbsp;</td><td> true if we're carrying out the action, so we want the auth
to be revoked right after
</td></tr> </table></dl>
<p> false if we're not carrying out the action, so we don't want
the auth to be revoked right after
</p>
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd> Result.Yes if the caller is authorized and the action should be performed
</dd></dl> otherwise if the caller was not authorized and the action should not be performed,
or an error has occurred
</p></div></div><a class="anchor" name="obj192492364"></a>
<div class="memitem">
<div class="memproto">
<table class="memname"><tr>
<td class="memname">PolkitQt.Auth.Result isCallerAuthorized</td>
<td>(</td>
<td class="paramtype"><a href="http://www.riverbankcomputing.co.uk/static/Docs/PyQt4/html/qstring.html">QString</a>&nbsp;</td>
<td class="paramname"><em>actionId</em>, </td>
</tr>
<tr>
<td class="memname"></td>
<td></td>
<td class="paramtype"><a href="http://www.riverbankcomputing.co.uk/static/Docs/PyQt4/html/qstring.html">QString</a>&nbsp;</td>
<td class="paramname"><em>dbusName</em>, </td>
</tr>
<tr>
<td class="memname"></td>
<td></td>
<td class="paramtype">bool&nbsp;</td>
<td class="paramname"><em>revokeIfOneShot</em></td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td>
<td></td>
<td width="100%"> </td>
</tr></table>
</div>
<div class="memdoc"><p>Same as above. Lets you use isCallerAuthorized with a QString DBus name instead of the
PID.
</p>
<p>
</p><dl compact><dt><b>Parameters:</b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td></td><td valign="top"><em>actionId</em>&nbsp;</td><td> the Id of the action in question
</td></tr> </table></dl>
<p> </p><dl compact><dt><b>Parameters:</b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td></td><td valign="top"><em>dbusName</em>&nbsp;</td><td> unique name on the system message bus
</td></tr> </table></dl>
<p> </p><dl compact><dt><b>Parameters:</b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td></td><td valign="top"><em>revokeIfOneShot</em>&nbsp;</td><td> true if we're carrying out the action, so we want the auth
to be revoked right after
</td></tr> </table></dl>
<p> false if we're not carrying out the action, so we don't want
the auth to be revoked right after
</p>
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd> Result.Yes if the caller is authorized and the action should be performed
</dd></dl> otherwise if the caller was not authorized and the action should not be performed,
or an error has occurred
</p></div></div><a class="anchor" name="obj175840204"></a>
<div class="memitem">
<div class="memproto">
<table class="memname"><tr>
<td class="memname">PolkitQt.Auth.Result isCallerAuthorized</td>
<td>(</td>
<td class="paramtype">PolKitAction&nbsp;</td>
<td class="paramname"><em>action</em>, </td>
</tr>
<tr>
<td class="memname"></td>
<td></td>
<td class="paramtype"><a href="http://www.riverbankcomputing.co.uk/static/Docs/PyQt4/html/qstring.html">QString</a>&nbsp;</td>
<td class="paramname"><em>dbusName</em>, </td>
</tr>
<tr>
<td class="memname"></td>
<td></td>
<td class="paramtype">bool&nbsp;</td>
<td class="paramname"><em>revokeIfOneShot</em></td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td>
<td></td>
<td width="100%"> </td>
</tr></table>
</div>
<div class="memdoc"><p>Same as above. Lets you use isCallerAuthorized with a QString DBus name instead of the
PID.
</p>
<p>
DEPRECATION WARNING: This function uses a type that will be removed in
PolicyKit 1.0. Please don't use this function in your application unless strictly
needed, or you will have to update it when polkit-qt 1.0 will come out. Please use
the equivalent without PolKit* types.
</p>
<p>
</p><dl compact><dt><b>Parameters:</b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td></td><td valign="top"><em>action</em>&nbsp;</td><td> the PolKitAction in question
</td></tr> </table></dl>
<p> </p><dl compact><dt><b>Parameters:</b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td></td><td valign="top"><em>dbusName</em>&nbsp;</td><td> unique name on the system message bus
</td></tr> </table></dl>
<p> </p><dl compact><dt><b>Parameters:</b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td></td><td valign="top"><em>revokeIfOneShot</em>&nbsp;</td><td> true if we're carrying out the action, so we want the auth
to be revoked right after
</td></tr> </table></dl>
<p> false if we're not carrying out the action, so we don't want
the auth to be revoked right after
</p>
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd> Result.Yes if the caller is authorized and the action should be performed
</dd></dl> otherwise if the caller was not authorized and the action should not be performed,
or an error has occurred
</p></div></div><a class="anchor" name="obj194371020"></a>
<div class="memitem">
<div class="memproto">
<table class="memname"><tr>
<td class="memname">bool obtainAuth</td>
<td>(</td>
<td class="paramtype"><a href="http://www.riverbankcomputing.co.uk/static/Docs/PyQt4/html/qstring.html">QString</a>&nbsp;</td>
<td class="paramname"><em>actionId</em>, </td>
</tr>
<tr>
<td class="memname"></td>
<td></td>
<td class="paramtype">WId&nbsp;</td>
<td class="paramname"><em>winId=0</em>, </td>
</tr>
<tr>
<td class="memname"></td>
<td></td>
<td class="paramtype">long&nbsp;</td>
<td class="paramname"><em>pid=QCoreApplication.applicationPid()</em></td>
</tr>
<tr>
<td></td>
<td>)</td>
<td></td>
<td></td>
<td width="100%"> </td>
</tr></table>
</div>
<div class="memdoc"><p>Obtain authorization for the given action regardless of
the Action Result.
This method was meant to be used only by Action,
use it only if you know what you're doing (ie. computing
the Polkit Result for the given action first). If you are unsure,
use computeAndObtainAuth instead
</p>
<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd> computeAndObtainAuth
</dd></dl> </p>
<p>
</p><dl compact><dt><b>Parameters:</b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td></td><td valign="top"><em>actionId</em>&nbsp;</td><td> id of the action in question (i.e. org.freedesktop.policykit.read)
</td></tr> </table></dl>
<p> </p><dl compact><dt><b>Parameters:</b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td></td><td valign="top"><em>winId</em>&nbsp;</td><td> the X window id for the request (use 0 if there's no window)
</td></tr> </table></dl>
<p> </p><dl compact><dt><b>Parameters:</b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td></td><td valign="top"><em>pid</em>&nbsp;</td><td> Process id of the application in question
</td></tr> </table></dl>
<p> <dl class="return" compact><dt><b>Returns:</b></dt><dd> true if the user is authorized
</dd></dl> false if the user is not authorized
</p></div></div>
</div>
</div>
</div>

<div id="left">

<div class="menu_box">
<div class="nav_list">
<ul>
<li><a href="../allclasses.html">Full Index</a></li>
</ul>
</div>

<a name="cp-menu" /><div class="menutitle"><div>
  <h2 id="cp-menu-project">Modules</h2>
</div></div>
<div class="nav_list">
<ul><li><a href="../akonadi/index.html">akonadi</a></li>
<li><a href="../dnssd/index.html">dnssd</a></li>
<li><a href="../kdecore/index.html">kdecore</a></li>
<li><a href="../kdeui/index.html">kdeui</a></li>
<li><a href="../khtml/index.html">khtml</a></li>
<li><a href="../kio/index.html">kio</a></li>
<li><a href="../knewstuff/index.html">knewstuff</a></li>
<li><a href="../kparts/index.html">kparts</a></li>
<li><a href="../kutils/index.html">kutils</a></li>
<li><a href="../nepomuk/index.html">nepomuk</a></li>
<li><a href="../phonon/index.html">phonon</a></li>
<li><a href="../plasma/index.html">plasma</a></li>
<li><a href="../polkitqt/index.html">polkitqt</a></li>
<li><a href="../solid/index.html">solid</a></li>
<li><a href="../soprano/index.html">soprano</a></li>
</ul></div></div>

</div>

</div>
  <div class="clearer"/>
</div>

<div id="end_body"></div>
</div>
<div id="footer"><div id="footer_text">
This documentation is maintained by <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;simon&#64;simonzone&#46;com">Simon Edwards</a>.<br />
        KDE<sup>&#174;</sup> and <a href="../images/kde_gear_black.png">the K Desktop Environment<sup>&#174;</sup> logo</a> are registered trademarks of <a href="http://ev.kde.org/" title="Homepage of the KDE non-profit Organization">KDE e.V.</a> |
        <a href="http://www.kde.org/contact/impressum.php">Legal</a>
    </div></div>
</body>
</html>
