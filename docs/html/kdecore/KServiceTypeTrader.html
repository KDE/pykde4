<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
  <title>KServiceTypeTrader</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</head>
<body>
<span style="font-size : 10pt;">
<table width="100%">
  <tr>
    <td width ="70%">
      <h1>class KServiceTypeTrader</h1><hr>
      <h3><i style="color : #00aa00"></i></h3>
    </td>
  </tr>
</table>
<table cellpadding="10">
  <tr>
    <td valign="top" width="35%">
      <table bgcolor="#f7f7ff" cellpadding="4">
        <tr>
          <td width="10%" align=left>Module</td>
          <td width="30%" align=left>kdecore</td>
        </tr>
        <tr>
          <td width="10%" align=left>Namespace</td>
          <td width="30%" align=left></td>
        </tr>
        <tr>
          <td>Class</td>
          <td>KServiceTypeTrader</td>
        </tr>
        <tr>
          <td>Inherits</td>
          <td></td>
        </tr>
      </table>
    </td>
    <td width="65%">
      KDE's trader interface (similar to the CORBA Trader), which provides a way
to query the KDE infrastructure for specific applications or components.
</p>
<p>
Basically, KServiceTypeTrader provides a way for an application to query
all KDE services (that is, applications, components, plugins) that match
a specific set of requirements. This allows to find specific services
at run-time without having to hard-code their names and/or paths.
</p>
<p>
For anything relating to mimetypes (type of files), ignore KServiceTypeTrader
and use KMimeTypeTrader instead.
</p>
<p>
Example
</p>
<p>
If you want to find all plugins for your application,
you would define a KMyApp/Plugin servicetype, and then you can query
the trader for it:
<pre>
KService.List offers =
KServiceTypeTrader.self()->query("KMyApp/Plugin");
</pre>
</p>
<p>
You can add a constraint in the "trader query language". For instance:
<pre>
KServiceTypeTrader.self()->query("KMyApp/Plugin",
"[X-KMyApp-InterfaceVersion] > 15");
</pre>
</p>
<p>
Please note that when including property names containing arithmetic operators like - or +, then you have
to put brackets around the property name, in order to correctly separate arithmetic operations from
the name. So for example a constraint expression like
<pre>
X-KMyApp-InterfaceVersion > 4 // wrong!
</pre>
needs to be written as
<pre>
[X-KMyApp-InterfaceVersion] > 4
</pre>
otherwise it could also be interpreted as
Substract the numeric value of the property "KMyApp" and "InterfaceVersion" from the
property "X" and make sure it is greater than 4.\n
Instead of the other meaning, make sure that the numeric value of "X-KMyApp-InterfaceVersion" is
greater than 4.
</p>
<p>
See also  KMimeTypeTrader, KService
    </td>
  </tr>
</table>
<hr>
<hr>
<h3>methods</h3><ul style="list-style-type : none">
<li><b style="color : #999999;">KServiceTypeTrader</b> ( )
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table>
        <tr>
          <td>
            returns <i>ctor</i>
          </td>
        </tr>
        <tr>
          <td>
          <i style="color : #aa0000">Not implemented</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr><td></td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">
<b style="color : #ff0000;"><i>Internal </i></b>
    </td>
  </tr>
</table>

</li><hr>

<li style="list-style-type : none"><b style="color : #999999;">KServiceTypeTrader</b> (other)
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table vspace="5">
        <tr>
          <td>
            returns <i>ctor</i>
          </td>
        </tr>
        <tr>
          <td>
          <i style="color : #aa0000">Not implemented</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr  bgcolor="#e7e7ff">
                <th>Argument</th><th>Type</th><th>Default</th>
              </tr>
              <tr><td>other</td><td>KServiceTypeTrader</td><td align="right"></td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">

    </td>
  </tr>
</table>

</li><hr>

<li style="list-style-type : none"><b style="color : #000000;">applyConstraints</b> (lst, constraint)
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table vspace="5">
        <tr>
          <td>
            returns <i>Nothing</i>
          </td>
        </tr>
        <tr>
          <td>
          <b style="color : #0000aa">static</b> 
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr  bgcolor="#e7e7ff">
                <th>Argument</th><th>Type</th><th>Default</th>
              </tr>
              <tr><td>lst</td><td>KService.List</td><td align="right"></td></tr>
              <tr><td>constraint</td><td>QString</td><td align="right"></td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">
<b style="color : #ff0000;"><i>Internal </i></b> (public for KMimeTypeTrader)
    </td>
  </tr>
</table>

</li><hr>

<li style="list-style-type : none"><b style="color : #000000;">defaultOffers</b> (serviceType, constraint)
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table vspace="5">
        <tr>
          <td>
            returns <i>KService.List</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr  bgcolor="#e7e7ff">
                <th>Argument</th><th>Type</th><th>Default</th>
              </tr>
              <tr><td>serviceType</td><td>QString</td><td align="right"></td></tr>
              <tr><td>constraint</td><td>QString</td><td align="right">QString()</td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">
Returns all offers associated with a given servicetype, IGNORING the
user preference. The sorting will be the one coming from the InitialPreference
in the .desktop files, and services disabled by the user will still be listed here.
This is used for "Revert to defaults" buttons in GUIs.
    </td>
  </tr>
</table>

</li><hr>

<li style="list-style-type : none"><b style="color : #000000;">preferredService</b> (serviceType)
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table vspace="5">
        <tr>
          <td>
            returns <i>KService.Ptr</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr  bgcolor="#e7e7ff">
                <th>Argument</th><th>Type</th><th>Default</th>
              </tr>
              <tr><td>serviceType</td><td>QString</td><td align="right"></td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">
Returns the preferred service for <b>serviceType.</b>
</p>
<p></p>
<p>
<b>serviceType</b> - the service type (e.g. "KMyApp/Plugin")
Returns the preferred service, or 0 if no service is available
    </td>
  </tr>
</table>

</li><hr>

<li style="list-style-type : none"><b style="color : #000000;">query</b> (servicetype, constraint)
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table vspace="5">
        <tr>
          <td>
            returns <i>KService.List</i>
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr  bgcolor="#e7e7ff">
                <th>Argument</th><th>Type</th><th>Default</th>
              </tr>
              <tr><td>servicetype</td><td>QString</td><td align="right"></td></tr>
              <tr><td>constraint</td><td>QString</td><td align="right">QString()</td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">
The main function in the KServiceTypeTrader class.
</p>
<p>
It will return a list of services that match your
specifications. The only required parameter is the service
type. This is something like 'text/plain' or 'text/html'. The
constraint parameter is used to limit the possible choices
returned based on the constraints you give it.
</p>
<p>
The <b>constraint</b> language is rather full. The most common
keywords are AND, OR, NOT, IN, and EXIST, all used in an
almost spoken-word form. An example is:
<pre>
(Type == 'Service') and (('KParts/ReadOnlyPart' in ServiceTypes) or (exist Exec))
</pre>
</p>
<p>
The keys used in the query (Type, ServiceType, Exec) are all
fields found in the .desktop files.
</p>
<p></p>
<p>
<b>servicetype</b> - A service type like 'KMyApp/Plugin' or 'KFilePlugin'.</p>
<p>
<b>constraint</b> - A constraint to limit the choices returned, QString() to
get all services of the given <b>servicetype</b>
</p>
<p>
Returns A list of services that satisfy the query
</p>
<p>
See also  http://techbase.kde.org/Development/Tutorials/Services/Traders#The_KTrader_Query_Language
    </td>
  </tr>
</table>

</li><hr>

<li><b style="color : #000000;">self</b> ( )
<table width="100%">
  <tr>
    <td width="60%" valign="top">
      <table>
        <tr>
          <td>
            returns <i>KServiceTypeTrader</i>
          </td>
        </tr>
        <tr>
          <td>
          <b style="color : #0000aa">static</b> 
          </td>
        </tr>
        <tr>
          <td>
          
          </td>
        <tr>
        <tr valign="bottom">
          <td>
            <table>
              <tr><td></td></tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
    <td width="40%" align="left">
This is a static pointer to the KServiceTypeTrader singleton.
</p>
<p>
You will need to use this to access the KServiceTypeTrader functionality since the
constructors are protected.
</p>
<p>
Returns Static KServiceTypeTrader instance
    </td>
  </tr>
</table>

</li><hr>

</li><hr>

</span>
</body>
</html>
